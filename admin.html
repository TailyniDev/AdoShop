<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Administra√ß√£o - AdoShop</title>
<link rel="stylesheet" href="styles/global.css">
<link rel="stylesheet" href="styles/admin.css">
<link rel="stylesheet" href="styles/responsivo.css">
<script src="scripts/app.js"></script>
</head>
<body>

<header>
    <div class="logo">
        <img src="assets/logo.avif" alt="Logo" width="20%">
    </div>

    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="shop.html">Shop</a></li>
            <li><a href="sobrenos.html">Sobre n√≥s</a></li>
        </ul>
    </nav>

    <div class="search-bar">
        <input type="text" placeholder="Buscar...">
        <button>üîç</button>
    </div>

    <div class="icons">
        <!-- √Årea do usu√°rio -->
        <div class="user-area" style="display: flex; align-items: center; gap: 10px;">
            <span id="user-display" style="color: white; font-size: 14px;">Visitante</span>
            
            <!-- Menu quando n√£o logado -->
            <div id="auth-buttons" style="display: flex; gap: 5px;">
                <a href="login.html" style="text-decoration: none;">
                    <img src="assets/svg/profile-1341-svgrepo-com (1).svg" alt="Login" width="30px">
                </a>
            </div>
            
            <!-- Menu quando logado -->
            <div id="user-menu" style="display: none; gap: 10px; align-items: center;">
                <a href="profile.html" style="text-decoration: none;">
                    <img src="assets/svg/profile-1341-svgrepo-com (1).svg" alt="Perfil" width="30px">
                </a>
                <button onclick="logout()" style="background: none; border: none; cursor: pointer; padding: 5px;">
                    <img src="assets/svg/logout-svgrepo-com.svg" alt="Sair" width="25px">
                </button>
            </div>
        </div>

        <div class="carrinho" onclick="abrirCarrinho()">
            <img src="assets/svg/cart-shopping-svgrepo-com (1).svg" alt="Carrinho" width="30px"> 
        </div>
    </div>
</header>

<main>
    <h1 style="text-align:center; margin-bottom:30px;">Painel de Administra√ß√£o</h1>

    <!-- Formul√°rio CRUD -->
    <form id="form-produto" onsubmit="salvarProduto(event)">
        <input type="hidden" id="produto-id">
        <input type="text" id="produto-nome" placeholder="Nome do Produto" required>
        <input type="number" id="produto-preco" placeholder="Pre√ßo" required step="0.01">
        <input type="text" id="produto-imagem" placeholder="URL da Imagem (ex: assets/imgs/rose.png)" required>
        <textarea id="descri√ß√£o" placeholder="Descri√ß√£o do produto" required rows="3"></textarea>
        <input type="number" id="quantidade" placeholder="Quantidade" required min="0">
        <input type="text" id="categoria" placeholder="Categoria" required>
        <input type="number" id="peso" placeholder="Peso (kg)" required step="0.01" min="0">
        <label style="display:flex; gap:8px; align-items:center;">
            <input type="checkbox" id="disponibilidade"> Disponibilidade
        </label> 
        <label style="display:flex; gap:8px; align-items:center;">
            <input type="checkbox" id="produto-limited"> Produto Limitado
        </label>
        <button type="submit">Salvar Produto</button>
    </form>

    <!-- Lista de produtos -->
    <div class="produtos-lista" id="produtos-lista"></div>

    <script src="scripts/app.js"></script>
    <script>
        // Verificar se √© admin e carregar produtos
        document.addEventListener('DOMContentLoaded', function() {
            const usuario = JSON.parse(localStorage.getItem('usuarioLogado') || '{}');
            if (usuario.tipo !== 'adm') {
                alert('Acesso restrito para administradores!');
                window.location.href = 'index.html';
                return;
            }
            carregarProdutosAdmin();
        });
    </script>
</main>

</body>
</html>